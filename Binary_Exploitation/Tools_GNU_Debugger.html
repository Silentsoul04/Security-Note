<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <title>Tools-GNU Debugger - Cybersecurity Note</title>
    <meta name="description" content="WildfootW's Note about Cybersecurity">
    <meta name="author" content="WildfootW">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="icon" href="../themes/daux/img/favicon-green.png" type="image/x-icon">

    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- JS -->
    <script>
        window.base_url = "../";
        document.documentElement.classList.remove('no-js');
    </script>

    <!-- Font -->
    
    <!-- CSS -->
            <link href='../themes/daux/css/theme-green.min.css' rel='stylesheet' type='text/css'>
            <link href='../daux_libraries/search.css' rel='stylesheet' type='text/css'>
    </head>
<body class="">
    <div class="Columns content">
    <aside class="Columns__left Collapsible">
        <button type="button" class="Button Collapsible__trigger" aria-controls="sidebar_content" aria-expanded="false" aria-label="Toggle navigation">
            <span class="Collapsible__trigger__bar"></span>
            <span class="Collapsible__trigger__bar"></span>
            <span class="Collapsible__trigger__bar"></span>
        </button>

        <a class="Brand" href="../index.html">Cybersecurity Note</a>

    <form role='search' action="/" method="get" class="Search" id="search_form">
        <label for="search_input">
            <span class='u-visuallyHidden'>Search</span>
        </label>
        <input
            type="search"
            id="search_input"
            class="Search__field"
            placeholder="Search..."
            aria-label="Search..."
            autocomplete="on"
            results=25
            autosave=text_search
        >
        <label>
            <input type="submit" class='u-visuallyHidden' />
            <span class='u-visuallyHidden'>Search...</span>
            <svg class="Search__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451 451">
                <path d="M447.05 428l-109.6-109.6c29.4-33.8 47.2-77.9 47.2-126.1C384.65 86.2 298.35 0 192.35 0 86.25 0 .05 86.3.05 192.3s86.3 192.3 192.3 192.3c48.2 0 92.3-17.8 126.1-47.2L428.05 447c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.2-5.2 5.2-13.8 0-19zM26.95 192.3c0-91.2 74.2-165.3 165.3-165.3 91.2 0 165.3 74.2 165.3 165.3s-74.1 165.4-165.3 165.4c-91.1 0-165.3-74.2-165.3-165.4z"/>
            </svg>
        </label>
    </form>

        <div class="Collapsible__content" id="sidebar_content">
            <!-- Navigation -->
            <ul class='Nav'><li class='Nav__item  has-children'><a href="../Pentest_Misc_Knowledge/Reconnaissance.html" class="Nav__item__link"><i class="Nav__arrow">&nbsp;</i>Pentest Misc Knowledge</a><ul class='Nav'><li class='Nav__item '><a href="../Pentest_Misc_Knowledge/Reconnaissance.html">Reconnaissance</a></li><li class='Nav__item '><a href="../Pentest_Misc_Knowledge/Using_Public_Exploits.html">Using Public Exploits</a></li><li class='Nav__item '><a href="../Pentest_Misc_Knowledge/Reverse_Shell.html">Reverse Shell</a></li><li class='Nav__item '><a href="../Pentest_Misc_Knowledge/File_Transfer.html">File Transfer</a></li><li class='Nav__item '><a href="../Pentest_Misc_Knowledge/Pivoting_(Port_Fun).html">Pivoting (Port Fun)</a></li><li class='Nav__item '><a href="../Pentest_Misc_Knowledge/Wireless_Secuirty.html">Wireless Secuirty</a></li></ul></li><li class='Nav__item  has-children'><a href="../Misc_Attack_Vector_Knowledge/Command_Injection_WAF_Bypass_Fuzzing.html" class="Nav__item__link"><i class="Nav__arrow">&nbsp;</i>Misc Attack Vector Knowledge</a><ul class='Nav'><li class='Nav__item '><a href="../Misc_Attack_Vector_Knowledge/Command_Injection_WAF_Bypass_Fuzzing.html">Command Injection & WAF Bypass & Fuzzing</a></li><li class='Nav__item '><a href="../Misc_Attack_Vector_Knowledge/Password_Attacks.html">Password Attacks</a></li><li class='Nav__item '><a href="../Misc_Attack_Vector_Knowledge/Client_Side_Attacks.html">Client-Side Attacks</a></li><li class='Nav__item '><a href="../Misc_Attack_Vector_Knowledge/Social_Engineering_Attacks.html">Social Engineering Attacks</a></li></ul></li><li class='Nav__item Nav__item--open has-children'><a href="../Binary_Exploitation/Misc.html" class="Nav__item__link"><i class="Nav__arrow">&nbsp;</i>Binary Exploitation</a><ul class='Nav'><li class='Nav__item '><a href="../Binary_Exploitation/Misc.html">Misc</a></li><li class='Nav__item '><a href="../Binary_Exploitation/Linux_Basic.html">Linux-Basic</a></li><li class='Nav__item '><a href="../Binary_Exploitation/Linux_Heap.html">Linux-Heap</a></li><li class='Nav__item '><a href="../Binary_Exploitation/Stack_Frame_Calling_Convention.html">Stack Frame & Calling Convention</a></li><li class='Nav__item '><a href="../Binary_Exploitation/ELF_(Executable_and_Linkable_Format).html">ELF (Executable and Linkable Format)</a></li><li class='Nav__item '><a href="../Binary_Exploitation/PE_(Portable_Executable_format).html">PE (Portable Executable format)</a></li><li class='Nav__item '><a href="../Binary_Exploitation/Linux_FILE_Structure.html">Linux-FILE Structure</a></li><li class='Nav__item '><a href="../Binary_Exploitation/System_Call_Shellcode.html">System Call & Shellcode</a></li><li class='Nav__item '><a href="../Binary_Exploitation/Windows_Heap.html">Windows-Heap</a></li><li class='Nav__item '><a href="../Binary_Exploitation/OSX_Heap.html">OSX-Heap</a></li><li class='Nav__item '><a href="../Binary_Exploitation/C++.html">C++</a></li><li class='Nav__item '><a href="../Binary_Exploitation/Tools_Pwntools.html">Tools-Pwntools</a></li><li class='Nav__item '><a href="../Binary_Exploitation/Tools_IDA_Pro.html">Tools-IDA Pro</a></li><li class='Nav__item '><a href="../Binary_Exploitation/Tools_x64dbg.html">Tools-x64dbg</a></li><li class='Nav__item Nav__item--active'><a href="../Binary_Exploitation/Tools_GNU_Debugger.html">Tools-GNU Debugger</a></li><li class='Nav__item '><a href="../Binary_Exploitation/Tools_Immunity_Debugger.html">Tools-Immunity Debugger</a></li></ul></li></ul>
            <div class="Links">
                                    <hr/>
                                            <a href="https://github.com/WildfootW/Security-Note" target="_blank"  rel="noopener noreferrer">Note</a>
                        <br />
                                            <a href="https://github.com/WildfootW/Security-utility-Scripts" target="_blank"  rel="noopener noreferrer">Utility Scripts</a>
                        <br />
                                            <a href="https://github.com/WildfootW/Security-Public-Exploits" target="_blank"  rel="noopener noreferrer">Public Exploits</a>
                        <br />
                                            <a href="https://github.com/WildfootW/Security-Tools" target="_blank"  rel="noopener noreferrer">Tools</a>
                        <br />
                                                </div>

                            <div class="CodeToggler">
                    <hr/>
                    <label class="Checkbox">Show Code Blocks                        <input type="checkbox" class="CodeToggler__button--main" checked="checked"/>
                        <div class="Checkbox__indicator"></div>
                    </label>
                </div>
            
                                    <div class="Twitter">
                        <hr/>
                            <a class="Twitter__button" target="_blank" title="Follow @WildfootW on Twitter" href="https://twitter.com/intent/follow?screen_name=WildfootW" rel="noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 72"><path fill="none" d="M0 0h72v72H0z"/><path class="icon" fill="#fff" d="M68.812 15.14c-2.348 1.04-4.87 1.744-7.52 2.06 2.704-1.62 4.78-4.186 5.757-7.243-2.53 1.5-5.33 2.592-8.314 3.176C56.35 10.59 52.948 9 49.182 9c-7.23 0-13.092 5.86-13.092 13.093 0 1.026.118 2.02.338 2.98C25.543 24.527 15.9 19.318 9.44 11.396c-1.125 1.936-1.77 4.184-1.77 6.58 0 4.543 2.312 8.552 5.824 10.9-2.146-.07-4.165-.658-5.93-1.64-.002.056-.002.11-.002.163 0 6.345 4.513 11.638 10.504 12.84-1.1.298-2.256.457-3.45.457-.845 0-1.666-.078-2.464-.23 1.667 5.2 6.5 8.985 12.23 9.09-4.482 3.51-10.13 5.605-16.26 5.605-1.055 0-2.096-.06-3.122-.184 5.794 3.717 12.676 5.882 20.067 5.882 24.083 0 37.25-19.95 37.25-37.25 0-.565-.013-1.133-.038-1.693 2.558-1.847 4.778-4.15 6.532-6.774z"/></svg>
        <span class="Twitter__button__label">Follow @WildfootW</span>
    </a>
    <br />
                    </div>
                
                                    <div class="PoweredBy">
                        <hr/>
                        Powered by Daux.io                    </div>
                        </div>
    </aside>
    <div class="Columns__right">
        <div class="Columns__right__content">
            <div class="doc_content">
                <article class="Page">

    <div class="Page__header">
        <h1><a href="../Binary_Exploitation/Misc.html">Binary Exploitation</a> <svg class="Page__header--separator" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 477.175 477.175"><path d="M360.73 229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1 0s-5.3 13.8 0 19.1l215.5 215.5-215.5 215.5c-5.3 5.3-5.3 13.8 0 19.1 2.6 2.6 6.1 4 9.5 4 3.4 0 6.9-1.3 9.5-4l225.1-225.1c5.3-5.2 5.3-13.8.1-19z"/></svg> <a href="../Binary_Exploitation/Tools_GNU_Debugger.html">Tools-GNU Debugger</a></h1>
                <span class="ModifiedDate">
            February 3, 2021 at 5:33 PM        </span>
                        <span class="EditOn">
            <a href="https://github.com/WildfootW/Security-Note/blob/master/docs/110_Binary_Exploitation/830_Tools-GNU_Debugger.md" target="_blank">
                Edit on GitHub            </a>
        </span>
            </div>

    <div class="s-content">
        <h1 id="page_GNU_Debugger">GNU Debugger</h1>
<h6 id="page_tags">tags: <code>Security</code> <code>Tools</code></h6>
<div class="TableOfContentsContainer">
    <h4 class="TableOfContentsContainer__title">Table of Contents</h4>
    <div class="TableOfContentsContainer__content">
        <ul class="TableOfContents">
<li>
<p><a href="#page_GNU_Debugger">GNU Debugger</a></p>
<ul class="TableOfContents">
<li>
<p><a href="#page_tags">tags: <code>Security</code> <code>Tools</code></a></p>
</li>
</ul>
</li>
<li>
<p><a href="#page_Scenario">Scenario</a></p>
<ul class="TableOfContents">
<li>
<p><a href="#page_replace_got">replace got</a></p>
</li>
<li>
<p><a href="#page_print_return_address">print return address</a></p>
</li>
<li>
<p><a href="#page_print_memory_with_a_struct">print memory with a struct</a></p>
</li>
<li>
<p><a href="#page_print_exact_address_of_a_variable">print exact address of a variable</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#page_Cheat_Sheet">Cheat Sheet</a></p>
</li>
<li>
<p><a href="#page_Origin_Commands">Origin Commands</a></p>
<ul class="TableOfContents">
<li>
<p><a href="#page_about_process">about process</a></p>
<ul class="TableOfContents">
<li>
<p><a href="#page_attach_detach">attach / detach</a></p>
</li>
<li>
<p><a href="#page_kill">kill</a></p>
</li>
<li>
<p><a href="#page_follow_fork_mode">follow-fork-mode</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#page_general">general</a></p>
<ul class="TableOfContents">
<li>
<p><a href="#page_r_(run)">r (run)</a></p>
</li>
<li>
<p><a href="#page_start">start</a></p>
</li>
<li>
<p><a href="#page_disass_(display_assemble)">disass (display assemble)</a></p>
<ul class="TableOfContents">
<li>
<p><a href="#page_modifier">modifier:</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#page_ni_(nexti)_si_(stepi)">ni (nexti) / si (stepi)</a></p>
</li>
<li>
<p><a href="#page_n_(next)_s_(step)">n (next) / s (step)</a></p>
</li>
<li>
<p><a href="#page_c_(continue)">c (continue)</a></p>
</li>
<li>
<p><a href="#page_print">print</a></p>
</li>
<li>
<p><a href="#page_printf">printf</a></p>
</li>
<li>
<p><a href="#page_l_(list)_if_available">l (list) &lt;if available&gt;</a></p>
</li>
<li>
<p><a href="#page_display">display</a></p>
</li>
<li>
<p><a href="#page_until">until</a></p>
</li>
<li>
<p><a href="#page_finish">finish</a></p>
</li>
<li>
<p><a href="#page_x">x</a></p>
</li>
<li>
<p><a href="#page_set">set</a></p>
</li>
<li>
<p><a href="#page_commands">commands</a></p>
</li>
<li>
<p><a href="#page_info">info</a></p>
<ul class="TableOfContents">
<li>
<p><a href="#page_info_registers_REGISTER">info registers [REGISTER]</a></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#page_about_breakpoint">about breakpoint</a></p>
<ul class="TableOfContents">
<li>
<p><a href="#page_b_(break)">b (break)</a></p>
</li>
<li>
<p><a href="#page_condition">condition</a></p>
</li>
<li>
<p><a href="#page_delete">delete</a></p>
</li>
<li>
<p><a href="#page_rbreak">rbreak</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#page_about_watch_point">about watch point</a></p>
<ul class="TableOfContents">
<li>
<p><a href="#page_watch_if_available">watch &lt;if available&gt;</a></p>
</li>
<li>
<p><a href="#page_rwatch">rwatch</a></p>
</li>
<li>
<p><a href="#page_awatch">awatch</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#page_about_catch_point">about catch point</a></p>
<ul class="TableOfContents">
<li>
<p><a href="#page_catch">catch</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#page_about_frame">about frame</a></p>
<ul class="TableOfContents">
<li>
<p><a href="#page_frame">frame</a></p>
</li>
<li>
<p><a href="#page_up">up</a></p>
</li>
<li>
<p><a href="#page_down">down</a></p>
</li>
<li>
<p><a href="#page_bt_(backtrace)">bt (backtrace)</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#page_about_TUI">about TUI</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#page_peda">peda</a></p>
</li>
<li>
<p><a href="#page_angelheap">angelheap</a></p>
</li>
</ul>    </div>
</div>
<h1 id="page_Scenario">Scenario</h1>
<h2 id="page_replace_got">replace got</h2>
<p><code>p &amp;stdout</code>
<code>x/6gx &amp;stdout</code>
set stdout as stderr(stdout has been closed)
<code>set *(long long*)0x601020 = 0x00007ffff7dd2540</code></p>
<h2 id="page_print_return_address">print return address</h2>
<p>可以看到printf的return address
<code>x/60gx $rsp - 16</code></p>
<h2 id="page_print_memory_with_a_struct">print memory with a struct</h2>
<pre><code>p/x *(struct link_map*)0x00007ffff7ffe168
</code></pre>
<h2 id="page_print_exact_address_of_a_variable">print exact address of a variable</h2>
<ul>
<li>when gdb is set to C language mode (and Objective-C).
<pre><code>p &amp;buf
</code></pre>
</li>
<li>general
<pre><code>info address buf
</code></pre>
</li>
</ul>
<h1 id="page_Cheat_Sheet">Cheat Sheet</h1>
<table border="0" class="singleborder">
<tbody><tr><td align="left" colspan="2"><b class="tableheader">Help Commands</b></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">help
<i>command</i></b></td><td align="left">Get help on a certain command</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">apropos
<i>keyword</i></b></td><td align="left">Search help for a particular
keyword</td></tr>
<tr><td class="tablespacer" align="left" colspan="2"><b class="tableheader">Starting and Quitting</b></td></tr>
<tr><td class="rightpad" align="left"><b class="command">gdb <i>[-tui]
[-c core] [exename]</i></b></td><td align="left"><b>(Unix Command)</b>
Start <b class="command">gdb</b> on an executable or standalone; specify
"-tui" to start the TUI GUI; specify "-c" with a corefile name to see
where a crash occurred</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">run <i>[arg1] [arg2]
[...]</i></b></td><td align="left">Run the currently loaded program with
the given command line arguments</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">quit</b></td><td align="left">Exit the debugger</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">file
<i>exename</i></b></td><td align="left">Load an executable file by
name</td></tr>
<tr><td class="tablespacer" align="left" colspan="2"><b class="tableheader">Breakpoints and Watchpoints</b></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">break
<i>location</i></b></td><td align="left">Set a breakpoint at a location,
line number, or file (e.g. "main", "5", or "hello.c:23")</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">watch
<i>expression</i></b></td><td align="left">Break when a variable is
written to</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">rwatch
<i>expression</i></b></td><td align="left">Break when a variable is
read from</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">awatch
<i>expression</i></b></td><td align="left">Break when a variable is
written to or read from</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">info break</b></td><td align="left">Display breakpoint and watchpoint information and numbers</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">info watch</b></td><td align="left">Same as <b class="userinput">info break</b></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">clear
<i>location</i></b></td><td align="left">Clear a breakpoint from a
location</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">delete <i>num</i></b></td><td align="left">Delete a breakpoint or watchpoint by number</td></tr>
<tr><td class="tablespacer" align="left" colspan="2"><b class="tableheader">Stepping and Running</b></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">next</b></td><td align="left">Run to the next line of this function</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">step</b></td><td align="left">Step into the function on this line, if possible</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">stepi</b></td><td align="left">Step a single assembly instruction</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">continue</b></td><td align="left">Keep running from here</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">CTRL-C</b></td><td align="left">Stop running, wherever you are</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">finish</b></td><td align="left">Run until the end of the current function</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">advance
<i>location</i></b></td><td align="left">Advance to a location,
line number, or file (e.g. "somefunction", "5", or "hello.c:23")</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">jump <i>location</i></b></td><td align="left">Just like <b class="userinput">continue</b>, except jump to
a particular location first.</td></tr>
<tr><td class="tablespacer" align="left" colspan="2"><b class="tableheader">Examining and Modifying Variables</b></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">display
<i>expression</i></b></td><td align="left">Display the value of a
variable or expression every step of the program—the expression
must make sense in the current scope</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">info display</b></td><td align="left">Show a list of expressions currently being displayed and
their numbers</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">undisplay
<i>num</i></b></td><td align="left">Stop showing an expression
identified by its number (see <b class="userinput">info display</b>)</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">print
<i>expression</i></b></td><td align="left">Print the value of a variable
or expression</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">printf&nbsp;<i>formatstr</i>&nbsp;<i>expressionlist</i></b></td><td align="left">Do some
formatted output with <tt class="function">printf()</tt> e.g. <tt class="code">printf&nbsp;"i&nbsp;=&nbsp;%d,&nbsp;p&nbsp;=&nbsp;%s\n",&nbsp;i,&nbsp;p</tt></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">set variable
<i>expression</i></b></td><td align="left">Set a variable to value, e.g.
<tt class="code">set&nbsp;variable&nbsp;x=20</tt></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">set
(<i>expression</i>)</b></td><td align="left">Works like <b class="userinput">set variable</b></td></tr>
<tr><td class="tablespacer" align="left" colspan="2"><b class="tableheader">Window Commands</b></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">info win</b></td><td align="left">Shows current window info</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">focus
<i>winname</i></b></td><td align="left">Set focus to a particular window
bby name ("SRC", "CMD", "ASM", or "REG") or by position ("next" or
"prev")</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">fs</b></td><td align="left">Alias for <b class="userinput">focus</b></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">layout <i>type</i></b></td><td align="left">Set the window layout ("src", "asm", "split", or "reg")</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">tui reg <i>type</i></b></td><td align="left">Set the register window layout ("general", "float",
"system", or "next")</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">winheight <i>val</i></b></td><td align="left">Set the window height (either an absolute value, or a
relative value prefaced with "+" or "-")</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">wh</b></td><td align="left">Alias for <b class="userinput">winheight</b></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">set&nbsp;disassembly-flavor&nbsp;<i>flavor</i></b></td><td align="left">Set the look-and-feel of the disassembly.  On Intel
machines, valid flavors are <b class="userinput">intel</b> and <b class="userinput">att</b></td></tr>
<tr><td class="tablespacer" align="left" colspan="2"><b class="tableheader">Misc Commands</b></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">RETURN</b></td><td align="left">Hit RETURN to repeat the last command</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">backtrace</b></td><td align="left">Show the current stack</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">bt</b></td><td align="left">Alias for <b class="userinput">backtrace</b></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">attach <i>pid</i></b></td><td align="left">Attach to an already-running process by its PID</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">info registers</b></td><td align="left">Dump integer registers to screen</td></tr>
<tr><td class="rightpad" align="left"><b class="userinput">info all-registers</b></td><td align="left">Dump all registers to screen</td></tr>
<!--
<tr><td align="left" colspan="2"><b class="tableheader"></b></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput"></b></td><td align="left"></td></tr>
-->
</tbody></table>
<h1 id="page_Origin_Commands">Origin Commands</h1>
<h2 id="page_about_process">about process</h2>
<p><code>$ gdb a.out</code></p>
<h3 id="page_attach_detach">attach / detach</h3>
<pre><code>$ ps aux
(gdb) attach $(Pid)
(gdb) detach          # release程式
</code></pre>
<h3 id="page_kill">kill</h3>
<p><code>kill</code></p>
<h3 id="page_follow_fork_mode">follow-fork-mode</h3>
<p>不會因為system(“echo Hello”)，害gdb跳掉</p>
<pre><code>set follow-fork-mode parent
set follow-fork-mode child
</code></pre>
<h2 id="page_general">general</h2>
<h3 id="page_r_(run)">r (run)</h3>
<h3 id="page_start">start</h3>
<p>Run debugged program until the beginning of the main procedure.</p>
<h3 id="page_disass_(display_assemble)">disass (display assemble)</h3>
<h5 id="page_modifier">modifier:</h5>
<pre><code>/m print source &lt;if available&gt;
/r print assemble in hex
</code></pre>
<p>example:</p>
<pre><code>disass main
disass /r main
disass 0x400530,0x400550 (start, end)
</code></pre>
<h3 id="page_ni_(nexti)_si_(stepi)">ni (nexti) / si (stepi)</h3>
<p>執行一行組合語言 不同點在於假如遇到call function <code>ni</code>會執行到function結束</p>
<h3 id="page_n_(next)_s_(step)">n (next) / s (step)</h3>
<p>執行一行source code
Execute next program line (step into/over any function calls in the line)</p>
<h3 id="page_c_(continue)">c (continue)</h3>
<p>執行到下一個breakpoint</p>
<h3 id="page_print">print</h3>
<p>印出某個變數或 memory address 的數值
example:</p>
<pre><code>(gdb) print x
$1 = 0
</code></pre>
<h3 id="page_printf">printf</h3>
<p>一次印出兩個以上的變數</p>
<pre><code>(gdb) print &quot;%d,%d\n&quot;,x,y
5,2
</code></pre>
<p><code>p password[1]@5</code> 印出password[1]之後5個陣列裡的值</p>
<h3 id="page_l_(list)_if_available">l (list) &lt;if available&gt;</h3>
<p>顯示目前程式執行到那一行</p>
<h3 id="page_display">display</h3>
<p>印出某些個變數或 memory address 的數值
<code>display a</code>
暫時關閉
<code>disable display a</code>
開啟
<code>enable display a</code>
刪除
<code>delete display a</code></p>
<h3 id="page_until">until</h3>
<p>執行完當前的迴圈
<code>until 13</code> 一直執行到第13行停下來</p>
<h3 id="page_finish">finish</h3>
<p>執行完當前的 function</p>
<h3 id="page_x">x</h3>
<p>x[/FMT] ADDRESS
Format letters are o(octal), x(hex), d(decimal), u(unsigned decimal), t(binary), f(float), a(address), i(instruction), c(char), s(string) and z(hex, zero padded on the left).
Size letters are b(byte), h(halfword), w(word), g(giant, 8 bytes).
example:
<code>x /xw 0x80040000</code> 以16進位顯示指定地址的值
<code>x /8s 0x86468700</code> 顯示指定地址開始的8个字符
<code>x /50i main</code> 顯示main開頭的50條指令
<code>x /10i $pc</code>
<code>x /30gx 0x6020c0-0x10</code>
<img src="https://i.imgur.com/JeqjIGo.png" alt="" /></p>
<h3 id="page_set">set</h3>
<p>set *ADDRESS=VALUE</p>
<p><code>set $ZF = 6</code>
<code>set *0xb6d2a908=0</code>
<code>set *(int *)0xb6daaaec=15</code>
<code>set *(int**)0x8048a548=0x55aa55aa</code></p>
<pre><code>gdb&gt; set *0x601030=0x4005a0
gdb&gt; x/gx 0x601030
0x601030:       0x00007fff004005a0
gdb&gt; set {uint64_t}0x601030=0x4005a0
gdb&gt; x/gx 0x601030
0x601030:       0x00000000004005a0
</code></pre>
<h3 id="page_commands">commands</h3>
<pre><code>(gdb) commands 1
Type commands for breakpoint(s) 1, one per line.
End with a line saying just &quot;end&quot;.
&gt;print i
&gt;print password[i]
&gt;continue       繼續執行
&gt;end            輸入完成
</code></pre>
<h3 id="page_info">info</h3>
<p>example:
<code>info b</code> 列出所有設定過的 breakpoint
<code>info program</code> print程式的狀態
<code>info locals</code> 印出所有區域變數的值</p>
<h4 id="page_info_registers_REGISTER">info registers [REGISTER]</h4>
<p><code>info registers</code> 察看所有暫存器的值(只包括常用暫存器)
<code>info registers pc</code> 察看PC暫存器的值(只包括常用暫存器)</p>
<p><code>info all-registers</code> 查看<strong>所有</strong>暫存器(包括浮點暫存器)</p>
<h2 id="page_about_breakpoint">about breakpoint</h2>
<h3 id="page_b_(break)">b (break)</h3>
<p>break LOCATION [CONDITION]
<code>b main</code> <strong>Function</strong>: 當程式執行到 main 這個 function 時，程式會暫停
<code>b *0x00000000004005f0</code> <strong>memory</strong>: 當程式執行到這個記憶體 address (ry
<code>break 10</code> <strong>LineNumber</strong>
<code>break main.c:20</code> <strong>FileName:LineNumber</strong>
<code>break tcpdump.c:pcap_parse</code> <strong>FileName:Function</strong>
加上條件判斷
<code>break 50 if size&gt;0</code> 只在條件達成的時候斷點</p>
<h3 id="page_condition">condition</h3>
<p>刪除斷點上的<strong>觸發條件</strong></p>
<h3 id="page_delete">delete</h3>
<p><code>delete 1</code> 移除第一個 breakpoint</p>
<h3 id="page_rbreak">rbreak</h3>
<p>rbreak REGEXP
<code>rbreak pcap_*</code> 給所有pcap_開頭的function添加breakpoint</p>
<h2 id="page_about_watch_point">about watch point</h2>
<h3 id="page_watch_if_available">watch &lt;if available&gt;</h3>
<p>用來偵測那個變數的值有被修改，當指定的變數被更改時，程式會暫停，並印出更改前後的數值
example:
<code>watch str</code> 觀察變數 str
<code>watch (t &gt; 10)</code> 觀察變數 t 是否大於 10</p>
<h3 id="page_rwatch">rwatch</h3>
<p>當指定表達式的值被讀取了,則程式停止</p>
<h3 id="page_awatch">awatch</h3>
<p>當指定表達式的值被讀取/更改了,則程式停止</p>
<h2 id="page_about_catch_point">about catch point</h2>
<h3 id="page_catch">catch</h3>
<p>catch [EVENT]</p>
<h2 id="page_about_frame">about frame</h2>
<p>所有的程式，每一個 function 都會被分配到一個 frame ，每個 frame 都是一個 組語 stack ，存放所有組語指令，然後再一行一行的執行，例如當程式執行到 printf 這個 function 的時候，就會進入該 printf frame 。
執行中的function為0 呼叫0的為1 呼叫1的為2…</p>
<h3 id="page_frame">frame</h3>
<p>進入 frame 1</p>
<h3 id="page_up">up</h3>
<p>進入上一個 frame</p>
<h3 id="page_down">down</h3>
<p>進入下一個 frame</p>
<h3 id="page_bt_(backtrace)">bt (backtrace)</h3>
<p>列出目前所有的 frame</p>
<h2 id="page_about_TUI">about TUI</h2>
<p>Tip: layout reg</p>
<pre><code>layout src	Standard layout—source on top, command window on the bottom
layout asm	Just like the &quot;src&quot; layout, except it's an assembly window on top
layout split	Three windows: source on top, assembly in the middle, and command at the bottom
layout reg	Opens the register window on top of either source or assembly, whichever was opened last
tui reg general	Show the general registers
tui reg float	Show the floating point registers
tui reg system	Show the &quot;system&quot; registers
tui reg next	Show the next page of registers—this is important because there might be pages of registers that aren't in the &quot;general&quot;, &quot;float&quot;, or &quot;system&quot; sets
</code></pre>
<h1 id="page_peda">peda</h1>
<ul>
<li>
<p>elfsymbol : show elf .plt section
查看function .plt</p>
</li>
<li>
<p>vmmap : show memory mapping
查看 process mapping 可觀察權限</p>
</li>
<li>
<p>readelf : Get headers information from an ELF file
查看 section 位置
找data段</p>
</li>
<li>
<p>find/searchmem : Search for a pattern in memory
search memeory 中的 patten(找字串)
<code>find /bin/sh</code></p>
</li>
<li>
<p>record : record every instruction at runtime</p>
</li>
<li>
<p>pattc : aaaaaaaabbbbbbbbccccccccddddddddd</p>
</li>
</ul>
<h1 id="page_angelheap">angelheap</h1>
<ul>
<li>heapinfo</li>
<li>chunkinfo</li>
</ul>
    </div>

        <nav>
        <ul class="Pager">
            <li class=Pager--prev><a href="../Binary_Exploitation/Tools_x64dbg.html">Previous</a></li>            <li class=Pager--next><a href="../Binary_Exploitation/Tools_Immunity_Debugger.html">Next</a></li>        </ul>
    </nav>
    </article>

            </div>
        </div>
    </div>
</div>

    
    <!-- JS -->
            <script src="../themes/daux/js/daux.min.js"></script>
    
        <script>
        
        window.searchLanguage = "";
        window.searchTranslation = {"Search_one_result":"1 result","Search_results":"!count results","Search_no_results":"Nothing found","Search_common_words_ignored":"Common words are largely ignored","Search_too_short":"Search too short","Search_one_character_or_more":"Should be one character or more","Search_should_be_x_or_more":"Should be !min characters or more","Link_previous":"Previous","Link_next":"Next"};
    </script>

    <!-- Search -->
    <script type="text/javascript" src="../daux_libraries/search.min.js"></script>

    <script>
        window.search({'base_url': '../'})
    </script>
</body>
</html>
